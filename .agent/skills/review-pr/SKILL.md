name: review-pr
description: GitHub Pull Request를 리뷰합니다. PR의 코드 변경사항을 분석하고, 체크리스트 기반으로 코드 품질, 보안, 성능 등을 검토하여 리뷰 코멘트를 작성합니다. "PR 리뷰해줘", "이 PR 검토해줘", "#123 PR 리뷰" 등의 요청에 반응합니다.

---

# PR Review Skill 

## Goal
PR의 변경사항을 체계적으로 분석하여 건설적인 리뷰 코멘트를 작성합니다.

## Instructions

1. PR 정보 가져오기
gh pr view <PR번호> --json title,body,files,commits 
gh pr diff <PR번호>
PR의 메타데이터와 diff를 가져옵니다. PR 번호가 지정되지 않으면 현재 브랜치의 PR을 확인합니다.

2. 리뷰 체크리스트 참조: `resources/review_checklist.md` 파일에서 리뷰 기준을 읽습니다.

3. 변경사항 분석: diff를 파일별로 분석하며 다음 항목을 검토합니다.
- 코드 품질: 가독성, 네이밍 컨벤션, 중복 코드
- 로직 정확성: 엣지 케이스, 에러 핸들링
- 보안: 하드코딩된 시크릿, SQL 인젝션, XSS 취약점
- 성능: 불필요한 루프, N+1 쿼리, 메모리 누수 가능성
- 테스트: 테스트 커버리지, 테스트 케이스 적절성

4. 리뷰 코멘트 작성: 각 이슈에 대해 다음 형식으로 코멘트를 작성합니다.
- 필수 : 반드시 수정해야 하는 문제 (버그, 보안 취약점)
- 권장 : 수정을 권장하는 문제 (코드 품질, 성능)
- 제안 : 선택적 개선 제안 (더 나은 방법, 스타일)
- 질문 : 의도를 확인하고 싶은 부분

5. 전체 평가: 리뷰 결과를 요약하고 승인/변경요청/코멘트 중 하나를 권장합니다.

6. 리뷰 제출: 사용자의 승인 후 `gh pr review`로 리뷰를 제출합니다.

gh pr review <PR번호> --comment --body "<리뷰 내용>" 
gh pr review <PR번호> --approve --body "<리뷰 내용>" 
gh pr review <PR번호> --request-changes --body "<리뷰 내용>"

## Constraints
- 리뷰는 건설적이고 구체적이어야 합니다. "이 코드는 별로예요." 같은 모호한 피드백은 지양합니다.
- 문제를 지적할 때는 반드시 대안이나 개선 방향을 함께 제시합니다.
- 잘 작성된 코드에 대해서는 칭찬 코멘트도 포함합니다.
- 리뷰 제출 전에 반드시 사용자의 승인을 받아야합니다.
- 모든 응답은 한국어로 작성합니다.
